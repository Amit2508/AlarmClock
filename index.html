<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alarm</title>
    <link rel="stylesheet" href="../styles/alarm.css">
</head>
<body>
    <nav id="nav-bar">
        <!-- <section id="img-section">
           <a href=""><i class="fa-solid fa-clock" style="color: #dcd9d9;"></i></a> 
        </section> -->

        <section id="app-text">
            <a>CLOCK APP</a>
        </section>

        <section id="nav-section">
            <ul id="nav-ul">
                <li class="nav-items" id="alarm-page">
                    <a href="alarm.html">Alarm</a>
                </li>
                <!-- <li class="nav-items" id="stopwatch-page">
                    <a href="/">Stopwatch</a>
                </li>
                <li class="nav-items" id="timer-page">
                    <a href="/">Timer</a>
                </li> -->
            </ul>
        </section>

    </nav>


    

    <section id="main-body">
        <section id="alarm-section">
            <section id="disp-no-alarm">

                <section class="no-alarm-box">
                    <h1 class="no-alarm-heading">
                        There are no alarms yet!
                    </h1>
                </section>

                <section id="alarms">
                    <!-- <section class="alarms" id="alarm-${alarmList.length}">
                        <section class="alarmTime">
                            <h1>23:57 AM</h1>
                            <h4 class="remaining-time">Alarm in 7 hours 57 minutes</h4>
                        </section>

                        <section class="set-unset">
                            <section class="toggleButton" id="toggleButton-${alarmList.length}" onclick="moveToggle(this.id)">
                                <section class="circle">
                                </section>
                            </section>
                        </section>

                        <section class="deleteAlarm">
                            <button class="delete">Delete</button>
                        </section>
                    </section> -->

                </section>
                

                <section id="add-alarm-box" class="add-alarm-box">
                    <section id="input-section">
                        <section class="inputs">
                            <select>
                                <option value="Hour" selected disabled hidden>00</option>
                            </select>
                        </section>
    
                        <section class="inputs">
                            <select>
                                <option value="Minute" selected disabled hidden>00</option>
                              </select>
                        </section>
    
                        <section class="inputs">
                            <select>
                                <option value="AM/PM" selected disabled hidden>AM</option>
                              </select>
                        </section>
                    </section>

                    <section class="ok-button">
                        <button id="ok" onclick="closeAddAlarm()">SET</button>
                        <button id="cancel" onclick="closeAddAlarm()">CANCEL</button>
                    </section>
                    
                </section>

                
            </section>
        </section>
    </section>

    <section id="footer">
        <section id="add-alarm">
            <button id="add-alarm-button" onclick="openAddAlarm()">ADD ALARM</button>
        </section>
    </section>

    <script>
        // var addA = document.getElementById("add-alarm-button");
        let addAlarmBox = document.getElementById("add-alarm-box");
        // let toggleBtn = document.


        function moveToggle(id){
            let buttonObj = document.getElementById(id);
            let styling = getComputedStyle(buttonObj);
            if(styling.flexDirection == "row"){
                buttonObj.classList.add("move-toggle");
                buttonObj.classList.remove("toggleButton");
            }

            else{
                buttonObj.classList.remove("move-toggle");
                buttonObj.classList.add("toggleButton");
            }
            
        }

        function openAddAlarm() {
            console.log("open clicked");
            let date = new Date(),
            h = date.getHours(),
            m = date.getMinutes(),
            s = date.getSeconds(),
            ampm = "AM";
            if(h >= 12) {
                h = h - 12;
                ampm = "PM";
            }
            h = h == 0 ? h = 12 : h;
            h = h < 10 ? "0" + h : h;
            m = m < 10 ? "0" + m : m;
            s = s < 10 ? "0" + s : s;

            let listInputs = document.querySelectorAll(".inputs");
            let options1List = listInputs[0].getElementsByTagName("option");

            for(let i = 0; i< options1List.length; i++){
                if(options1List[i]["value"] == h){
                    // console.log(options1List[i]["value"]);
                    options1List[i]["selected"] = true;
                }
            }

            let options2List = listInputs[1].getElementsByTagName("option");

            for(let i = 0; i< options2List.length; i++){
                if(options2List[i]["value"] == m){
                    // console.log(options1List[i]["value"]);
                    options2List[i]["selected"] = true;
                }
            }

            let options3List = listInputs[2].getElementsByTagName("option");

            for(let i = 0; i< options3List.length; i++){
                if(options3List[i]["value"] == ampm){
                    // console.log(options1List[i]["value"]);
                    options3List[i]["selected"] = true;
                }
            }
            
            addAlarmBox.classList.add("open-add-alarm");
        }
        
        function closeAddAlarm() {
            console.log("closed clicked");

            addAlarmBox.classList.remove("open-add-alarm");
        }
    </script>

    <script src="../scripts/alarm.js"></script>
    
</body>
</html>
