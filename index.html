<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alarm</title>
    <link rel="stylesheet" href="alarm.css">
</head>
<body>
    <nav id="nav-bar">
        <!-- <section id="img-section">
           <a href=""><i class="fa-solid fa-clock" style="color: #dcd9d9;"></i></a> 
        </section> -->

        <section id="app-text">
            <a>CLOCK APP</a>
        </section>

        <section id="nav-section">
            <ul id="nav-ul">
                <li class="nav-items" id="alarm-page">
                    <button id="alarm-settings" onclick="openAlarmSettings()">Alarm Settings</button>
                    <!-- <a href="alarm.html">Alarm</a> -->
                </li>
                <!-- <li class="nav-items" id="stopwatch-page">
                    <a href="/">Stopwatch</a>
                </li>
                <li class="nav-items" id="timer-page">
                    <a href="/">Timer</a>
                </li> -->
            </ul>
        </section>

        <section class="settings-box closed-settings-box">
            <section id="main-settings">
                <section class="inputs2">
                    <h5>Ringtone: </h5>
                    <select>
                        <option value="alarm-tone" selected>default alarm-tone</option>
                    </select>
                </section>
    
                <section class="inputs2">
                    <h5>Snooze Time: </h5>
                    <select>
                        <option value="5" selected >5 minutes</option>
                    </select>
                </section>

                <button id="settings-done" onclick="closeSettings()">Done</button>
            </section>

        </section>

    </nav>


    

    <section id="main-body">
        <section id="alarm-section">
            <section id="disp-no-alarm">

                <section class="no-alarm-box">
                    <h1 class="no-alarm-heading">
                        There are no alarms yet!
                    </h1>
                </section>

                <section id="alarms">

                </section>
                
                
                

                
            </section>
        </section>
    </section>

    <section id="footer">
        <section id="add-alarm-box" class="add-alarm-box">
            <section id="input-section">
                <section class="inputs">
                    <select>
                        <option value="Hour" selected disabled hidden>00</option>
                    </select>
                </section>

                <section class="inputs">
                    <select>
                        <option value="Minute" selected disabled hidden>00</option>
                      </select>
                </section>

                <section class="inputs">
                    <select>
                        <option value="AM/PM" selected disabled hidden>AM</option>
                      </select>
                </section>
            </section>

            <section class="ok-button">
                <button id="ok" onclick="closeAddAlarm()">SET</button>
                <button id="cancel" onclick="closeAddAlarm()">CANCEL</button>
            </section>
            
        </section>
        <section id="add-alarm">
            <button id="add-alarm-button" onclick="openAddAlarm()">ADD ALARM</button>
        </section>
    </section>

    <script>
        let addAlarmBox = document.getElementById("add-alarm-box");
        let settingsBoxx = document.getElementsByClassName("settings-box");
        let settingsBox = settingsBoxx[0];

        function moveToggle(id){
            let buttonObj = document.getElementById(id);
            let styling = getComputedStyle(buttonObj);
            if(styling.flexDirection == "row"){
                buttonObj.classList.add("move-toggle");
                buttonObj.classList.remove("toggleButton");
                unsetAlarm(id);
            }

            else{
                buttonObj.classList.remove("move-toggle");
                buttonObj.classList.add("toggleButton");
                setAlarm2(id);
            }
            
        }

        function openAddAlarm() {
            console.log("open clicked");
            let date = new Date(),
            h = date.getHours(),
            m = date.getMinutes(),
            s = date.getSeconds(),
            ampm = "AM";
            if(h >= 12) {
                h = h - 12;
                ampm = "PM";
            }
            h = h == 0 ? h = 12 : h;
            h = h < 10 ? "0" + h : h;
            m = m < 10 ? "0" + m : m;
            s = s < 10 ? "0" + s : s;

            let listInputs = document.querySelectorAll(".inputs");
            let options1List = listInputs[0].getElementsByTagName("option");

            for(let i = 0; i< options1List.length; i++){
                if(options1List[i]["value"] == h){
                    // console.log(options1List[i]["value"]);
                    options1List[i]["selected"] = true;
                }
            }

            let options2List = listInputs[1].getElementsByTagName("option");

            for(let i = 0; i< options2List.length; i++){
                if(options2List[i]["value"] == m){
                    // console.log(options1List[i]["value"]);
                    options2List[i]["selected"] = true;
                }
            }

            let options3List = listInputs[2].getElementsByTagName("option");

            for(let i = 0; i< options3List.length; i++){
                if(options3List[i]["value"] == ampm){
                    // console.log(options1List[i]["value"]);
                    options3List[i]["selected"] = true;
                }
            }
            
            addAlarmBox.classList.add("open-add-alarm");
        }
        
        function closeAddAlarm() {
            console.log("closed clicked");

            addAlarmBox.classList.remove("open-add-alarm");
        }

        function openAlarmSettings(){
            settingsBox.classList.remove("closed-settings-box");
            settingsBox.classList.add("open-settings-box");
            
        }

        function closeSettings(){
            settingsBox.classList.add("closed-settings-box");
            settingsBox.classList.remove("open-settings-box");
        }
    </script>

    <script src="alarm.js"></script>
    
</body>
</html>
